<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
	<meta charset="utf-8" />
	<title>Whizard - Duplicate template</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no" />
	<link rel="apple-touch-icon" href="pages/ico/60.png" />
	<link rel="apple-touch-icon" sizes="76x76" href="pages/ico/76.png" />
	<link rel="apple-touch-icon" sizes="120x120" href="pages/ico/120.png" />
	<link rel="apple-touch-icon" sizes="152x152" href="pages/ico/152.png" />
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-touch-fullscreen" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="default" />
	<meta content="Meet pages - The simplest and fastest way to build web UI for your dashboard or app." name="description" />
	<meta content="Ace" name="author" />
	<link href="assets/plugins/pace/pace-theme-flash.css" rel="stylesheet" type="text/css" />
	<link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" /> -->
	<link href="assets/plugins/jquery-scrollbar/jquery.scrollbar.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="assets/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" media="screen" />
	<!-- <link class="main-stylesheet" href="pages/css/themes/corporate.css" rel="stylesheet" type="text/css" /> -->
	<!-- Please remove the file below for production: Contains demo classes -->
	<link class="main-stylesheet" href="assets/css/style.css" rel="stylesheet" type="text/css" />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
	<script src="https://viralpitch.co/insights/app/js/apexcharts-bundle/dist/apexcharts.js"></script>
	<link rel="stylesheet" href="styles/template.css" />
	<link rel="stylesheet" href="https://viralpitch.co/insights/app/js/apexcharts-bundle/dist/apexcharts.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
	<link href="styles/style.css" rel="stylesheet" type="text/css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" type="text/css" href="styles/template-preview.css" />
	<style>
		* {
			font-family: "Figtree", sans-serif;
			font-optical-sizing: auto;
		}
		
		button.active {
			background-color: #ddd;
			border-color: #333;
		}
		
		#bodyInput * {
			font-size: inherit;
			font-family: inherit;
			line-height: inherit;
		}
		
		#previewContainer {
			overflow-wrap: break-word;
			/* Ensures that long words will wrap */
			word-wrap: break-word;
			/* Legacy support for older browsers */
			word-break: break-word;
			/* Break long words at arbitrary points if necessary */
		}
		
		#previewHeader,
		#previewBody,
		#previewFooter,
		#previewButtons {
			overflow-wrap: break-word;
			/* Wrap long words */
			word-wrap: break-word;
			word-break: break-word;
			white-space: normal;
			/* Ensure text can break onto a new line */
		}
	</style>
	<!-- Font Awesome link -->
</head>

<body class="overflow-hidden">
	<!-- Loader HTML -->
	<div id="loader" class="loader">
		<div class="w-full h-full flex justify-center items-center">
			<img src="/assets/img/Wizard_logo.png" alt="Whizard Logo" class="animate-pulse loading-image" />
		</div>
	</div>
	
	<div class="flex h-screen w-full">
		<nav class="sidebar ">
			<div class="logo">
				<img onclick="location.href = '/'" class="cursor-pointer" src="/assets/img/Wizard_logo.png" alt="Whizard Logo" />
			</div>
			<ul class="">
				<!-- Dashboard: Always enabled -->
				<li>
					<a href="/" class="">
						<span class="icon"><svg width="25" height="24" viewBox="0 0 25 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M22.5278 19.5C22.5278 19.6989 22.4488 19.8897 22.3082 20.0303C22.1675 20.171 21.9767 20.25 21.7778 20.25H3.77783C3.57892 20.25 3.38815 20.171 3.2475 20.0303C3.10685 19.8897 3.02783 19.6989 3.02783 19.5V4.5C3.02783 4.30109 3.10685 4.11032 3.2475 3.96967C3.38815 3.82902 3.57892 3.75 3.77783 3.75C3.97674 3.75 4.16751 3.82902 4.30816 3.96967C4.44881 4.11032 4.52783 4.30109 4.52783 4.5V14.6897L9.24721 9.96937C9.31686 9.89964 9.39958 9.84432 9.49063 9.80658C9.58168 9.76884 9.67927 9.74941 9.77783 9.74941C9.87639 9.74941 9.97399 9.76884 10.065 9.80658C10.1561 9.84432 10.2388 9.89964 10.3085 9.96937L12.7778 12.4397L17.7175 7.5H15.7778C15.5789 7.5 15.3882 7.42098 15.2475 7.28033C15.1068 7.13968 15.0278 6.94891 15.0278 6.75C15.0278 6.55109 15.1068 6.36032 15.2475 6.21967C15.3882 6.07902 15.5789 6 15.7778 6H19.5278C19.7267 6 19.9175 6.07902 20.0582 6.21967C20.1988 6.36032 20.2778 6.55109 20.2778 6.75V10.5C20.2778 10.6989 20.1988 10.8897 20.0582 11.0303C19.9175 11.171 19.7267 11.25 19.5278 11.25C19.3289 11.25 19.1382 11.171 18.9975 11.0303C18.8568 10.8897 18.7778 10.6989 18.7778 10.5V8.56031L13.3085 14.0306C13.2388 14.1004 13.1561 14.1557 13.065 14.1934C12.974 14.2312 12.8764 14.2506 12.7778 14.2506C12.6793 14.2506 12.5817 14.2312 12.4906 14.1934C12.3996 14.1557 12.3169 14.1004 12.2472 14.0306L9.77783 11.5603L4.52783 16.8103V18.75H21.7778C21.9767 18.75 22.1675 18.829 22.3082 18.9697C22.4488 19.1103 22.5278 19.3011 22.5278 19.5Z" />
							</svg>
						</span>
						Dashboard
					</a>
				</li>
				
				<!-- Chats: Conditionally rendered based on permissions -->
				<li>
					<% if (access?.chats?.type) { %>
					<a href="/chats" class="">
						<span class="icon"><svg width="20" height="20" viewBox="0 0 22 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M20.5342 15.5087C21.0524 14.4338 21.3067 13.2508 21.2759 12.058C21.2451 10.8651 20.9301 9.6968 20.3571 8.6501C19.7841 7.60341 18.9697 6.70854 17.9814 6.03984C16.9931 5.37113 15.8595 4.94789 14.6748 4.80526C14.2806 3.88873 13.7075 3.06006 12.989 2.36779C12.2706 1.67551 11.4212 1.13353 10.4907 0.773604C9.56018 0.413674 8.56719 0.243022 7.56989 0.271641C6.57259 0.300261 5.59103 0.527576 4.68267 0.940276C3.77432 1.35298 2.95744 1.94277 2.27987 2.67511C1.6023 3.40745 1.07766 4.26762 0.736665 5.20525C0.395673 6.14288 0.245187 7.13912 0.294019 8.13563C0.342851 9.13215 0.590019 10.1089 1.02105 11.0087L0.339487 13.3253C0.263282 13.5839 0.258187 13.8582 0.324737 14.1195C0.391286 14.3808 0.527021 14.6193 0.71766 14.8099C0.9083 15.0005 1.1468 15.1363 1.40806 15.2028C1.66932 15.2694 1.94369 15.2643 2.2023 15.1881L4.51886 14.5065C5.2627 14.8639 6.06019 15.0967 6.87949 15.1956C7.27753 16.1282 7.86056 16.9704 8.59333 17.6713C9.32611 18.3723 10.1934 18.9173 11.1428 19.2735C12.0922 19.6297 13.104 19.7897 14.1169 19.7438C15.1299 19.698 16.1231 19.4471 17.0364 19.0065L19.3529 19.6881C19.6114 19.7642 19.8857 19.7693 20.1468 19.7027C20.408 19.6362 20.6464 19.5006 20.837 19.3101C21.0276 19.1196 21.1634 18.8812 21.23 18.6201C21.2967 18.359 21.2917 18.0848 21.2157 17.8262L20.5342 15.5087ZM4.59011 12.9531C4.51844 12.9532 4.44714 12.9633 4.37824 12.9831L1.77761 13.75L2.54355 11.1475C2.59802 10.9594 2.57683 10.7576 2.48449 10.585C1.80603 9.31612 1.60612 7.84573 1.9212 6.44182C2.23629 5.03792 3.04538 3.79398 4.201 2.93678C5.35661 2.07958 6.78179 1.66619 8.21672 1.77198C9.65166 1.87777 11.0008 2.49569 12.0182 3.5131C13.0356 4.53051 13.6535 5.87965 13.7593 7.31459C13.8651 8.74953 13.4517 10.1747 12.5945 11.3303C11.7373 12.4859 10.4934 13.295 9.08949 13.6101C7.68558 13.9252 6.21519 13.7253 4.94636 13.0468C4.83725 12.9864 4.71481 12.9542 4.59011 12.9531ZM19.0079 15.6465L19.7776 18.25L17.1751 17.484C16.9871 17.4295 16.7852 17.4507 16.6126 17.5431C15.2315 18.2805 13.617 18.4494 12.1132 18.0137C10.6094 17.578 9.33522 16.5721 8.5623 15.2106C9.58922 15.1034 10.5829 14.7852 11.481 14.2758C12.3791 13.7665 13.1623 13.077 13.7814 12.2507C14.4005 11.4244 14.8421 10.4791 15.0786 9.47405C15.3151 8.46901 15.3414 7.42593 15.1557 6.41027C16.0505 6.62117 16.8848 7.03485 17.5943 7.61936C18.3038 8.20388 18.8695 8.9436 19.2477 9.78144C19.626 10.6193 19.8066 11.5328 19.7758 12.4516C19.7449 13.3703 19.5034 14.2697 19.0698 15.0803C18.9765 15.2539 18.9552 15.4573 19.0107 15.6465H19.0079Z" />
							</svg>
							
						</span>
						Chats
					</a>
					<% } else { %>
					<a href="javascript:void(0);" class="cursor-not-allowed">
						<span class="icon"><svg width="20" height="20" viewBox="0 0 22 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M20.5342 15.5087C21.0524 14.4338 21.3067 13.2508 21.2759 12.058C21.2451 10.8651 20.9301 9.6968 20.3571 8.6501C19.7841 7.60341 18.9697 6.70854 17.9814 6.03984C16.9931 5.37113 15.8595 4.94789 14.6748 4.80526C14.2806 3.88873 13.7075 3.06006 12.989 2.36779C12.2706 1.67551 11.4212 1.13353 10.4907 0.773604C9.56018 0.413674 8.56719 0.243022 7.56989 0.271641C6.57259 0.300261 5.59103 0.527576 4.68267 0.940276C3.77432 1.35298 2.95744 1.94277 2.27987 2.67511C1.6023 3.40745 1.07766 4.26762 0.736665 5.20525C0.395673 6.14288 0.245187 7.13912 0.294019 8.13563C0.342851 9.13215 0.590019 10.1089 1.02105 11.0087L0.339487 13.3253C0.263282 13.5839 0.258187 13.8582 0.324737 14.1195C0.391286 14.3808 0.527021 14.6193 0.71766 14.8099C0.9083 15.0005 1.1468 15.1363 1.40806 15.2028C1.66932 15.2694 1.94369 15.2643 2.2023 15.1881L4.51886 14.5065C5.2627 14.8639 6.06019 15.0967 6.87949 15.1956C7.27753 16.1282 7.86056 16.9704 8.59333 17.6713C9.32611 18.3723 10.1934 18.9173 11.1428 19.2735C12.0922 19.6297 13.104 19.7897 14.1169 19.7438C15.1299 19.698 16.1231 19.4471 17.0364 19.0065L19.3529 19.6881C19.6114 19.7642 19.8857 19.7693 20.1468 19.7027C20.408 19.6362 20.6464 19.5006 20.837 19.3101C21.0276 19.1196 21.1634 18.8812 21.23 18.6201C21.2967 18.359 21.2917 18.0848 21.2157 17.8262L20.5342 15.5087ZM4.59011 12.9531C4.51844 12.9532 4.44714 12.9633 4.37824 12.9831L1.77761 13.75L2.54355 11.1475C2.59802 10.9594 2.57683 10.7576 2.48449 10.585C1.80603 9.31612 1.60612 7.84573 1.9212 6.44182C2.23629 5.03792 3.04538 3.79398 4.201 2.93678C5.35661 2.07958 6.78179 1.66619 8.21672 1.77198C9.65166 1.87777 11.0008 2.49569 12.0182 3.5131C13.0356 4.53051 13.6535 5.87965 13.7593 7.31459C13.8651 8.74953 13.4517 10.1747 12.5945 11.3303C11.7373 12.4859 10.4934 13.295 9.08949 13.6101C7.68558 13.9252 6.21519 13.7253 4.94636 13.0468C4.83725 12.9864 4.71481 12.9542 4.59011 12.9531ZM19.0079 15.6465L19.7776 18.25L17.1751 17.484C16.9871 17.4295 16.7852 17.4507 16.6126 17.5431C15.2315 18.2805 13.617 18.4494 12.1132 18.0137C10.6094 17.578 9.33522 16.5721 8.5623 15.2106C9.58922 15.1034 10.5829 14.7852 11.481 14.2758C12.3791 13.7665 13.1623 13.077 13.7814 12.2507C14.4005 11.4244 14.8421 10.4791 15.0786 9.47405C15.3151 8.46901 15.3414 7.42593 15.1557 6.41027C16.0505 6.62117 16.8848 7.03485 17.5943 7.61936C18.3038 8.20388 18.8695 8.9436 19.2477 9.78144C19.626 10.6193 19.8066 11.5328 19.7758 12.4516C19.7449 13.3703 19.5034 14.2697 19.0698 15.0803C18.9765 15.2539 18.9552 15.4573 19.0107 15.6465H19.0079Z" />
							</svg>
						</span>
						Chats
					</a>
					<% } %>
				</li>
				
				<!-- Contact List: Conditionally rendered based on permissions -->
				<li>
					<% if (access.contactList?.type) { %>
					<a href="/contact-list">
						<span class="icon "><svg width="24" height="20" viewBox="0 0 24 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M22.7276 10.1002C22.6488 10.1593 22.5592 10.2023 22.4638 10.2267C22.3684 10.2511 22.2691 10.2566 22.1716 10.2426C22.0741 10.2287 21.9803 10.1957 21.8955 10.1455C21.8108 10.0953 21.7367 10.029 21.6776 9.95017C21.2256 9.34254 20.6372 8.84953 19.9598 8.51084C19.2824 8.17215 18.535 7.99723 17.7776 8.00017C17.6301 8.00015 17.4859 7.95666 17.363 7.87512C17.2402 7.79358 17.144 7.67761 17.0867 7.54173C17.0478 7.44946 17.0277 7.35032 17.0277 7.25017C17.0277 7.15002 17.0478 7.05088 17.0867 6.95861C17.144 6.82272 17.2402 6.70676 17.363 6.62522C17.4859 6.54368 17.6301 6.50018 17.7776 6.50017C18.1984 6.50013 18.6108 6.38208 18.9679 6.15943C19.325 5.93677 19.6125 5.61844 19.7977 5.24058C19.983 4.86273 20.0585 4.4405 20.0158 4.02185C19.9731 3.60321 19.8139 3.20493 19.5562 2.87225C19.2984 2.53958 18.9526 2.28584 18.5579 2.13987C18.1632 1.9939 17.7355 1.96154 17.3233 2.04646C16.9112 2.13139 16.5311 2.3302 16.2263 2.62031C15.9214 2.91043 15.7041 3.28021 15.5989 3.68767C15.5743 3.78308 15.5311 3.87271 15.4718 3.95144C15.4126 4.03017 15.3384 4.09645 15.2535 4.14651C15.1686 4.19656 15.0747 4.22941 14.9771 4.24318C14.8796 4.25694 14.7802 4.25135 14.6848 4.22673C14.5894 4.20211 14.4998 4.15893 14.421 4.09967C14.3423 4.04041 14.276 3.96622 14.226 3.88134C14.1759 3.79646 14.1431 3.70256 14.1293 3.60498C14.1155 3.50741 14.1211 3.40808 14.1458 3.31267C14.2918 2.74765 14.5677 2.22451 14.9514 1.78487C15.3352 1.34523 15.8163 1.00124 16.3564 0.780246C16.8965 0.559256 17.4808 0.467375 18.0627 0.511915C18.6445 0.556454 19.208 0.736184 19.7082 1.0368C20.2084 1.33742 20.6315 1.75063 20.9439 2.24356C21.2563 2.73648 21.4494 3.29552 21.5077 3.87618C21.566 4.45684 21.488 5.0431 21.2799 5.58831C21.0718 6.13352 20.7393 6.62263 20.3089 7.01673C21.3287 7.45829 22.2152 8.15899 22.8804 9.04923C22.9395 9.12822 22.9825 9.2181 23.0068 9.31371C23.0311 9.40932 23.0363 9.50878 23.0221 9.6064C23.0079 9.70403 22.9746 9.79789 22.924 9.88262C22.8735 9.96735 22.8068 10.0413 22.7276 10.1002ZM17.6764 15.8752C17.7306 15.9605 17.7671 16.056 17.7835 16.1558C17.7999 16.2556 17.796 16.3577 17.7719 16.456C17.7478 16.5542 17.7042 16.6466 17.6435 16.7275C17.5828 16.8084 17.5063 16.8762 17.4188 16.9269C17.3312 16.9775 17.2343 17.0099 17.1339 17.0221C17.0335 17.0343 16.9316 17.026 16.8345 16.9978C16.7373 16.9696 16.6469 16.9221 16.5686 16.8581C16.4903 16.794 16.4258 16.7148 16.3789 16.6252C15.9064 15.8252 15.2335 15.1622 14.4267 14.7016C13.6198 14.241 12.7067 13.9988 11.7776 13.9988C10.8485 13.9988 9.9355 14.241 9.1286 14.7016C8.32171 15.1622 7.64883 15.8252 7.17638 16.6252C7.12949 16.7148 7.06496 16.794 6.98666 16.8581C6.90837 16.9221 6.81793 16.9696 6.72078 16.9978C6.62363 17.026 6.52179 17.0343 6.42138 17.0221C6.32096 17.0099 6.22406 16.9775 6.13648 16.9269C6.04891 16.8762 5.97248 16.8084 5.91179 16.7275C5.8511 16.6466 5.80742 16.5542 5.78335 16.456C5.75928 16.3577 5.75534 16.2556 5.77176 16.1558C5.78818 16.056 5.82461 15.9605 5.87888 15.8752C6.606 14.6258 7.71468 13.6427 9.042 13.0702C8.29512 12.4983 7.74622 11.7068 7.47244 10.8069C7.19866 9.90695 7.21378 8.94385 7.51567 8.05295C7.81756 7.16206 8.39104 6.38817 9.15551 5.84005C9.91997 5.29194 10.837 4.99716 11.7776 4.99716C12.7183 4.99716 13.6353 5.29194 14.3998 5.84005C15.1642 6.38817 15.7377 7.16206 16.0396 8.05295C16.3415 8.94385 16.3566 9.90695 16.0828 10.8069C15.809 11.7068 15.2601 12.4983 14.5133 13.0702C15.8406 13.6427 16.9493 14.6258 17.6764 15.8752ZM11.7776 12.5002C12.371 12.5002 12.951 12.3242 13.4443 11.9946C13.9377 11.6649 14.3222 11.1964 14.5493 10.6482C14.7763 10.1 14.8357 9.49684 14.72 8.9149C14.6042 8.33295 14.3185 7.79841 13.8989 7.37885C13.4794 6.95929 12.9448 6.67357 12.3629 6.55781C11.781 6.44206 11.1778 6.50147 10.6296 6.72853C10.0814 6.95559 9.61286 7.34011 9.28322 7.83346C8.95358 8.32681 8.77763 8.90682 8.77763 9.50017C8.77763 10.2958 9.0937 11.0589 9.65631 11.6215C10.2189 12.1841 10.982 12.5002 11.7776 12.5002ZM6.52763 7.25017C6.52763 7.05126 6.44861 6.86049 6.30796 6.71984C6.16731 6.57919 5.97654 6.50017 5.77763 6.50017C5.35681 6.50013 4.94444 6.38208 4.58735 6.15943C4.23026 5.93677 3.94277 5.61844 3.75753 5.24058C3.5723 4.86273 3.49674 4.4405 3.53944 4.02185C3.58214 3.60321 3.74139 3.20493 3.9991 2.87225C4.25682 2.53958 4.60266 2.28584 4.99735 2.13987C5.39203 1.9939 5.81975 1.96154 6.23191 2.04646C6.64407 2.13139 7.02415 2.3302 7.32898 2.62031C7.63381 2.91043 7.85117 3.28021 7.95638 3.68767C8.00611 3.88036 8.13035 4.04541 8.30177 4.14651C8.47319 4.2476 8.67774 4.27646 8.87044 4.22673C9.06314 4.177 9.22819 4.05276 9.32928 3.88134C9.43037 3.70992 9.45923 3.50536 9.4095 3.31267C9.26348 2.74765 8.98761 2.22451 8.60383 1.78487C8.22005 1.34523 7.73896 1.00124 7.19883 0.780246C6.65871 0.559256 6.07447 0.467375 5.49259 0.511915C4.91071 0.556454 4.34725 0.736184 3.84706 1.0368C3.34686 1.33742 2.92373 1.75063 2.61133 2.24356C2.29894 2.73648 2.10589 3.29552 2.04757 3.87618C1.98924 4.45684 2.06724 5.0431 2.27536 5.58831C2.48347 6.13352 2.81597 6.62263 3.24638 7.01673C2.22758 7.45871 1.34205 8.15938 0.677628 9.04923C0.558156 9.20836 0.506792 9.40843 0.534835 9.60543C0.562877 9.80243 0.66803 9.98023 0.827159 10.0997C0.986289 10.2192 1.18636 10.2705 1.38336 10.2425C1.58036 10.2145 1.75816 10.1093 1.87763 9.95017C2.32968 9.34254 2.91808 8.84953 3.59546 8.51084C4.27285 8.17215 5.02029 7.99723 5.77763 8.00017C5.97654 8.00017 6.16731 7.92115 6.30796 7.7805C6.44861 7.63985 6.52763 7.44908 6.52763 7.25017Z" />
							</svg>
						</span>
						Contact List
					</a>
					<% } else { %>
					<a href="javascript:void(0);" class="cursor-not-allowed">
						<span class="icon"><svg width="24" height="20" viewBox="0 0 24 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M22.7276 10.1002C22.6488 10.1593 22.5592 10.2023 22.4638 10.2267C22.3684 10.2511 22.2691 10.2566 22.1716 10.2426C22.0741 10.2287 21.9803 10.1957 21.8955 10.1455C21.8108 10.0953 21.7367 10.029 21.6776 9.95017C21.2256 9.34254 20.6372 8.84953 19.9598 8.51084C19.2824 8.17215 18.535 7.99723 17.7776 8.00017C17.6301 8.00015 17.4859 7.95666 17.363 7.87512C17.2402 7.79358 17.144 7.67761 17.0867 7.54173C17.0478 7.44946 17.0277 7.35032 17.0277 7.25017C17.0277 7.15002 17.0478 7.05088 17.0867 6.95861C17.144 6.82272 17.2402 6.70676 17.363 6.62522C17.4859 6.54368 17.6301 6.50018 17.7776 6.50017C18.1984 6.50013 18.6108 6.38208 18.9679 6.15943C19.325 5.93677 19.6125 5.61844 19.7977 5.24058C19.983 4.86273 20.0585 4.4405 20.0158 4.02185C19.9731 3.60321 19.8139 3.20493 19.5562 2.87225C19.2984 2.53958 18.9526 2.28584 18.5579 2.13987C18.1632 1.9939 17.7355 1.96154 17.3233 2.04646C16.9112 2.13139 16.5311 2.3302 16.2263 2.62031C15.9214 2.91043 15.7041 3.28021 15.5989 3.68767C15.5743 3.78308 15.5311 3.87271 15.4718 3.95144C15.4126 4.03017 15.3384 4.09645 15.2535 4.14651C15.1686 4.19656 15.0747 4.22941 14.9771 4.24318C14.8796 4.25694 14.7802 4.25135 14.6848 4.22673C14.5894 4.20211 14.4998 4.15893 14.421 4.09967C14.3423 4.04041 14.276 3.96622 14.226 3.88134C14.1759 3.79646 14.1431 3.70256 14.1293 3.60498C14.1155 3.50741 14.1211 3.40808 14.1458 3.31267C14.2918 2.74765 14.5677 2.22451 14.9514 1.78487C15.3352 1.34523 15.8163 1.00124 16.3564 0.780246C16.8965 0.559256 17.4808 0.467375 18.0627 0.511915C18.6445 0.556454 19.208 0.736184 19.7082 1.0368C20.2084 1.33742 20.6315 1.75063 20.9439 2.24356C21.2563 2.73648 21.4494 3.29552 21.5077 3.87618C21.566 4.45684 21.488 5.0431 21.2799 5.58831C21.0718 6.13352 20.7393 6.62263 20.3089 7.01673C21.3287 7.45829 22.2152 8.15899 22.8804 9.04923C22.9395 9.12822 22.9825 9.2181 23.0068 9.31371C23.0311 9.40932 23.0363 9.50878 23.0221 9.6064C23.0079 9.70403 22.9746 9.79789 22.924 9.88262C22.8735 9.96735 22.8068 10.0413 22.7276 10.1002ZM17.6764 15.8752C17.7306 15.9605 17.7671 16.056 17.7835 16.1558C17.7999 16.2556 17.796 16.3577 17.7719 16.456C17.7478 16.5542 17.7042 16.6466 17.6435 16.7275C17.5828 16.8084 17.5063 16.8762 17.4188 16.9269C17.3312 16.9775 17.2343 17.0099 17.1339 17.0221C17.0335 17.0343 16.9316 17.026 16.8345 16.9978C16.7373 16.9696 16.6469 16.9221 16.5686 16.8581C16.4903 16.794 16.4258 16.7148 16.3789 16.6252C15.9064 15.8252 15.2335 15.1622 14.4267 14.7016C13.6198 14.241 12.7067 13.9988 11.7776 13.9988C10.8485 13.9988 9.9355 14.241 9.1286 14.7016C8.32171 15.1622 7.64883 15.8252 7.17638 16.6252C7.12949 16.7148 7.06496 16.794 6.98666 16.8581C6.90837 16.9221 6.81793 16.9696 6.72078 16.9978C6.62363 17.026 6.52179 17.0343 6.42138 17.0221C6.32096 17.0099 6.22406 16.9775 6.13648 16.9269C6.04891 16.8762 5.97248 16.8084 5.91179 16.7275C5.8511 16.6466 5.80742 16.5542 5.78335 16.456C5.75928 16.3577 5.75534 16.2556 5.77176 16.1558C5.78818 16.056 5.82461 15.9605 5.87888 15.8752C6.606 14.6258 7.71468 13.6427 9.042 13.0702C8.29512 12.4983 7.74622 11.7068 7.47244 10.8069C7.19866 9.90695 7.21378 8.94385 7.51567 8.05295C7.81756 7.16206 8.39104 6.38817 9.15551 5.84005C9.91997 5.29194 10.837 4.99716 11.7776 4.99716C12.7183 4.99716 13.6353 5.29194 14.3998 5.84005C15.1642 6.38817 15.7377 7.16206 16.0396 8.05295C16.3415 8.94385 16.3566 9.90695 16.0828 10.8069C15.809 11.7068 15.2601 12.4983 14.5133 13.0702C15.8406 13.6427 16.9493 14.6258 17.6764 15.8752ZM11.7776 12.5002C12.371 12.5002 12.951 12.3242 13.4443 11.9946C13.9377 11.6649 14.3222 11.1964 14.5493 10.6482C14.7763 10.1 14.8357 9.49684 14.72 8.9149C14.6042 8.33295 14.3185 7.79841 13.8989 7.37885C13.4794 6.95929 12.9448 6.67357 12.3629 6.55781C11.781 6.44206 11.1778 6.50147 10.6296 6.72853C10.0814 6.95559 9.61286 7.34011 9.28322 7.83346C8.95358 8.32681 8.77763 8.90682 8.77763 9.50017C8.77763 10.2958 9.0937 11.0589 9.65631 11.6215C10.2189 12.1841 10.982 12.5002 11.7776 12.5002ZM6.52763 7.25017C6.52763 7.05126 6.44861 6.86049 6.30796 6.71984C6.16731 6.57919 5.97654 6.50017 5.77763 6.50017C5.35681 6.50013 4.94444 6.38208 4.58735 6.15943C4.23026 5.93677 3.94277 5.61844 3.75753 5.24058C3.5723 4.86273 3.49674 4.4405 3.53944 4.02185C3.58214 3.60321 3.74139 3.20493 3.9991 2.87225C4.25682 2.53958 4.60266 2.28584 4.99735 2.13987C5.39203 1.9939 5.81975 1.96154 6.23191 2.04646C6.64407 2.13139 7.02415 2.3302 7.32898 2.62031C7.63381 2.91043 7.85117 3.28021 7.95638 3.68767C8.00611 3.88036 8.13035 4.04541 8.30177 4.14651C8.47319 4.2476 8.67774 4.27646 8.87044 4.22673C9.06314 4.177 9.22819 4.05276 9.32928 3.88134C9.43037 3.70992 9.45923 3.50536 9.4095 3.31267C9.26348 2.74765 8.98761 2.22451 8.60383 1.78487C8.22005 1.34523 7.73896 1.00124 7.19883 0.780246C6.65871 0.559256 6.07447 0.467375 5.49259 0.511915C4.91071 0.556454 4.34725 0.736184 3.84706 1.0368C3.34686 1.33742 2.92373 1.75063 2.61133 2.24356C2.29894 2.73648 2.10589 3.29552 2.04757 3.87618C1.98924 4.45684 2.06724 5.0431 2.27536 5.58831C2.48347 6.13352 2.81597 6.62263 3.24638 7.01673C2.22758 7.45871 1.34205 8.15938 0.677628 9.04923C0.558156 9.20836 0.506792 9.40843 0.534835 9.60543C0.562877 9.80243 0.66803 9.98023 0.827159 10.0997C0.986289 10.2192 1.18636 10.2705 1.38336 10.2425C1.58036 10.2145 1.75816 10.1093 1.87763 9.95017C2.32968 9.34254 2.91808 8.84953 3.59546 8.51084C4.27285 8.17215 5.02029 7.99723 5.77763 8.00017C5.97654 8.00017 6.16731 7.92115 6.30796 7.7805C6.44861 7.63985 6.52763 7.44908 6.52763 7.25017Z" />
							</svg>
						</span>
						Contact List
					</a>
					<% } %>
				</li>
				
				<!-- Template: Conditionally rendered based on permissions -->
				<li>
					<% if (access?.templates?.type) { %>
					<a href="/template">
						<span class="icon active"><svg width="20" height="20" viewBox="0 0 20 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M19.1941 6.37562L10.1941 0.375624C10.0708 0.293395 9.92599 0.249512 9.77783 0.249512C9.62967 0.249512 9.48483 0.293395 9.36158 0.375624L0.361582 6.37562C0.258842 6.44417 0.174621 6.53703 0.116397 6.64595C0.0581744 6.75488 0.027752 6.87649 0.0278322 7V16.75C0.0278322 17.1478 0.185867 17.5294 0.467172 17.8107C0.748477 18.092 1.13001 18.25 1.52783 18.25H18.0278C18.4257 18.25 18.8072 18.092 19.0885 17.8107C19.3698 17.5294 19.5278 17.1478 19.5278 16.75V7C19.5279 6.87649 19.4975 6.75488 19.4393 6.64595C19.381 6.53703 19.2968 6.44417 19.1941 6.37562ZM6.84533 12.25L1.52783 16V8.45594L6.84533 12.25ZM8.38002 13H11.1756L16.4847 16.75H3.07096L8.38002 13ZM12.7103 12.25L18.0278 8.45594V16L12.7103 12.25ZM9.77783 1.90094L17.4569 7.02062L11.1756 11.5H8.3819L2.10064 7.02062L9.77783 1.90094Z" />
							</svg>
						</span>
						Template
					</a>
					<% } else { %>
					<a href="javascript:void(0);" class="cursor-not-allowed">
						<span class="icon"><svg width="20" height="20" viewBox="0 0 20 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M19.1941 6.37562L10.1941 0.375624C10.0708 0.293395 9.92599 0.249512 9.77783 0.249512C9.62967 0.249512 9.48483 0.293395 9.36158 0.375624L0.361582 6.37562C0.258842 6.44417 0.174621 6.53703 0.116397 6.64595C0.0581744 6.75488 0.027752 6.87649 0.0278322 7V16.75C0.0278322 17.1478 0.185867 17.5294 0.467172 17.8107C0.748477 18.092 1.13001 18.25 1.52783 18.25H18.0278C18.4257 18.25 18.8072 18.092 19.0885 17.8107C19.3698 17.5294 19.5278 17.1478 19.5278 16.75V7C19.5279 6.87649 19.4975 6.75488 19.4393 6.64595C19.381 6.53703 19.2968 6.44417 19.1941 6.37562ZM6.84533 12.25L1.52783 16V8.45594L6.84533 12.25ZM8.38002 13H11.1756L16.4847 16.75H3.07096L8.38002 13ZM12.7103 12.25L18.0278 8.45594V16L12.7103 12.25ZM9.77783 1.90094L17.4569 7.02062L11.1756 11.5H8.3819L2.10064 7.02062L9.77783 1.90094Z" />
							</svg>
						</span>
						Template
					</a>
					<% } %>
				</li>
				
				<!-- Settings: Conditionally rendered based on permissions -->
				<li>
					<% if (access?.settings?.type) { %>
					<a href="/settings">
						<span class="icon "><svg width="25" height="24" viewBox="0 0 25 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M23.0849 10.0509C23.064 9.9453 23.0206 9.84543 22.9577 9.75807C22.8948 9.67072 22.8138 9.59793 22.7202 9.54467L19.9236 7.95092L19.9124 4.79904C19.912 4.69049 19.8881 4.58331 19.8423 4.4849C19.7965 4.38649 19.7299 4.29919 19.6471 4.22904C18.6326 3.37095 17.4644 2.71336 16.2046 2.29123C16.1054 2.25765 16.0002 2.24522 15.8959 2.25475C15.7916 2.26428 15.6904 2.29555 15.5989 2.34654L12.778 3.92342L9.95426 2.34373C9.86272 2.29245 9.76143 2.26094 9.65695 2.25125C9.55246 2.24156 9.44711 2.2539 9.3477 2.28748C8.08861 2.71232 6.92167 3.37246 5.90895 4.23279C5.82623 4.30284 5.75968 4.38999 5.71388 4.48823C5.66807 4.58647 5.64411 4.69347 5.64364 4.80186L5.62957 7.95654L2.83301 9.55029C2.73945 9.60356 2.65845 9.67634 2.59552 9.7637C2.5326 9.85105 2.48921 9.95093 2.46832 10.0565C2.21238 11.3427 2.21238 12.6667 2.46832 13.9528C2.48921 14.0584 2.5326 14.1583 2.59552 14.2456C2.65845 14.333 2.73945 14.4058 2.83301 14.459L5.62957 16.0528L5.64082 19.2056C5.64116 19.3142 5.66506 19.4213 5.71087 19.5197C5.75667 19.6182 5.8233 19.7055 5.90614 19.7756C6.92058 20.6337 8.08878 21.2913 9.34863 21.7134C9.44785 21.747 9.553 21.7594 9.65731 21.7499C9.76161 21.7404 9.86277 21.7091 9.95426 21.6581L12.778 20.0765L15.6018 21.6562C15.7135 21.7185 15.8395 21.7508 15.9674 21.75C16.0493 21.75 16.1307 21.7367 16.2083 21.7106C17.4671 21.286 18.634 20.6265 19.6471 19.7672C19.7298 19.6971 19.7963 19.61 19.8421 19.5117C19.8879 19.4135 19.9119 19.3065 19.9124 19.1981L19.9264 16.0434L22.723 14.4497C22.8166 14.3964 22.8976 14.3236 22.9605 14.2363C23.0234 14.1489 23.0668 14.049 23.0877 13.9434C23.3422 12.6583 23.3413 11.3357 23.0849 10.0509ZM12.778 15.75C12.0363 15.75 11.3113 15.53 10.6946 15.118C10.0779 14.7059 9.59729 14.1203 9.31346 13.435C9.02963 12.7498 8.95537 11.9958 9.10007 11.2684C9.24476 10.541 9.60191 9.87278 10.1264 9.34833C10.6508 8.82388 11.319 8.46673 12.0464 8.32204C12.7739 8.17734 13.5279 8.2516 14.2131 8.53543C14.8983 8.81926 15.484 9.29991 15.896 9.91659C16.3081 10.5333 16.528 11.2583 16.528 12C16.528 12.9945 16.1329 13.9484 15.4297 14.6516C14.7264 15.3549 13.7726 15.75 12.778 15.75Z" />
							</svg>
						</span>
						Settings
					</a>
					<% } else { %>
					<a href="javascript:void(0);" class="cursor-not-allowed">
						<span class="icon"><svg width="25" height="24" viewBox="0 0 25 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M23.0849 10.0509C23.064 9.9453 23.0206 9.84543 22.9577 9.75807C22.8948 9.67072 22.8138 9.59793 22.7202 9.54467L19.9236 7.95092L19.9124 4.79904C19.912 4.69049 19.8881 4.58331 19.8423 4.4849C19.7965 4.38649 19.7299 4.29919 19.6471 4.22904C18.6326 3.37095 17.4644 2.71336 16.2046 2.29123C16.1054 2.25765 16.0002 2.24522 15.8959 2.25475C15.7916 2.26428 15.6904 2.29555 15.5989 2.34654L12.778 3.92342L9.95426 2.34373C9.86272 2.29245 9.76143 2.26094 9.65695 2.25125C9.55246 2.24156 9.44711 2.2539 9.3477 2.28748C8.08861 2.71232 6.92167 3.37246 5.90895 4.23279C5.82623 4.30284 5.75968 4.38999 5.71388 4.48823C5.66807 4.58647 5.64411 4.69347 5.64364 4.80186L5.62957 7.95654L2.83301 9.55029C2.73945 9.60356 2.65845 9.67634 2.59552 9.7637C2.5326 9.85105 2.48921 9.95093 2.46832 10.0565C2.21238 11.3427 2.21238 12.6667 2.46832 13.9528C2.48921 14.0584 2.5326 14.1583 2.59552 14.2456C2.65845 14.333 2.73945 14.4058 2.83301 14.459L5.62957 16.0528L5.64082 19.2056C5.64116 19.3142 5.66506 19.4213 5.71087 19.5197C5.75667 19.6182 5.8233 19.7055 5.90614 19.7756C6.92058 20.6337 8.08878 21.2913 9.34863 21.7134C9.44785 21.747 9.553 21.7594 9.65731 21.7499C9.76161 21.7404 9.86277 21.7091 9.95426 21.6581L12.778 20.0765L15.6018 21.6562C15.7135 21.7185 15.8395 21.7508 15.9674 21.75C16.0493 21.75 16.1307 21.7367 16.2083 21.7106C17.4671 21.286 18.634 20.6265 19.6471 19.7672C19.7298 19.6971 19.7963 19.61 19.8421 19.5117C19.8879 19.4135 19.9119 19.3065 19.9124 19.1981L19.9264 16.0434L22.723 14.4497C22.8166 14.3964 22.8976 14.3236 22.9605 14.2363C23.0234 14.1489 23.0668 14.049 23.0877 13.9434C23.3422 12.6583 23.3413 11.3357 23.0849 10.0509ZM12.778 15.75C12.0363 15.75 11.3113 15.53 10.6946 15.118C10.0779 14.7059 9.59729 14.1203 9.31346 13.435C9.02963 12.7498 8.95537 11.9958 9.10007 11.2684C9.24476 10.541 9.60191 9.87278 10.1264 9.34833C10.6508 8.82388 11.319 8.46673 12.0464 8.32204C12.7739 8.17734 13.5279 8.2516 14.2131 8.53543C14.8983 8.81926 15.484 9.29991 15.896 9.91659C16.3081 10.5333 16.528 11.2583 16.528 12C16.528 12.9945 16.1329 13.9484 15.4297 14.6516C14.7264 15.3549 13.7726 15.75 12.778 15.75Z" />
							</svg>
						</span>
						Settings
					</a>
					<% } %>
				</li>
				
				<!-- Reports: Conditionally rendered based on permissions -->
				<li>
					<% if (access?.reports?.type) { %>
					<a href="/reports/campaign-list">
						<span class="icon "><svg width="18" height="20" viewBox="0 0 18 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M16.8085 4.21938L13.0585 0.469375C12.9888 0.399749 12.906 0.344539 12.815 0.306898C12.7239 0.269257 12.6264 0.249923 12.5278 0.25H5.02783C4.63001 0.25 4.24848 0.408035 3.96717 0.68934C3.68587 0.970645 3.52783 1.35218 3.52783 1.75V3.25H2.02783C1.63001 3.25 1.24848 3.40804 0.967172 3.68934C0.685867 3.97064 0.527832 4.35218 0.527832 4.75V18.25C0.527832 18.6478 0.685867 19.0294 0.967172 19.3107C1.24848 19.592 1.63001 19.75 2.02783 19.75H12.5278C12.9257 19.75 13.3072 19.592 13.5885 19.3107C13.8698 19.0294 14.0278 18.6478 14.0278 18.25V16.75H15.5278C15.9257 16.75 16.3072 16.592 16.5885 16.3107C16.8698 16.0294 17.0278 15.6478 17.0278 15.25V4.75C17.0279 4.65148 17.0086 4.55391 16.9709 4.46286C16.9333 4.37182 16.8781 4.28908 16.8085 4.21938ZM12.5278 18.25H2.02783V4.75H9.21752L12.5278 8.06031V15.985C12.5278 15.9906 12.5278 15.9953 12.5278 16C12.5278 16.0047 12.5278 16.0094 12.5278 16.015V18.25ZM15.5278 15.25H14.0278V7.75C14.0279 7.65148 14.0086 7.55391 13.9709 7.46286C13.9333 7.37182 13.8781 7.28908 13.8085 7.21937L10.0585 3.46938C9.98875 3.39975 9.90602 3.34454 9.81497 3.3069C9.72392 3.26926 9.62635 3.24992 9.52783 3.25H5.02783V1.75H12.2175L15.5278 5.06031V15.25ZM10.2778 12.25C10.2778 12.4489 10.1988 12.6397 10.0582 12.7803C9.91751 12.921 9.72674 13 9.52783 13H5.02783C4.82892 13 4.63815 12.921 4.4975 12.7803C4.35685 12.6397 4.27783 12.4489 4.27783 12.25C4.27783 12.0511 4.35685 11.8603 4.4975 11.7197C4.63815 11.579 4.82892 11.5 5.02783 11.5H9.52783C9.72674 11.5 9.91751 11.579 10.0582 11.7197C10.1988 11.8603 10.2778 12.0511 10.2778 12.25ZM10.2778 15.25C10.2778 15.4489 10.1988 15.6397 10.0582 15.7803C9.91751 15.921 9.72674 16 9.52783 16H5.02783C4.82892 16 4.63815 15.921 4.4975 15.7803C4.35685 15.6397 4.27783 15.4489 4.27783 15.25C4.27783 15.0511 4.35685 14.8603 4.4975 14.7197C4.63815 14.579 4.82892 14.5 5.02783 14.5H9.52783C9.72674 14.5 9.91751 14.579 10.0582 14.7197C10.1988 14.8603 10.2778 15.0511 10.2778 15.25Z" />
							</svg>
						</span>
						Reports
					</a>
					<% } else { %>
					<a href="javascript:void(0);" class="cursor-not-allowed">
						<span class="icon"><svg width="18" height="20" viewBox="0 0 18 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M16.8085 4.21938L13.0585 0.469375C12.9888 0.399749 12.906 0.344539 12.815 0.306898C12.7239 0.269257 12.6264 0.249923 12.5278 0.25H5.02783C4.63001 0.25 4.24848 0.408035 3.96717 0.68934C3.68587 0.970645 3.52783 1.35218 3.52783 1.75V3.25H2.02783C1.63001 3.25 1.24848 3.40804 0.967172 3.68934C0.685867 3.97064 0.527832 4.35218 0.527832 4.75V18.25C0.527832 18.6478 0.685867 19.0294 0.967172 19.3107C1.24848 19.592 1.63001 19.75 2.02783 19.75H12.5278C12.9257 19.75 13.3072 19.592 13.5885 19.3107C13.8698 19.0294 14.0278 18.6478 14.0278 18.25V16.75H15.5278C15.9257 16.75 16.3072 16.592 16.5885 16.3107C16.8698 16.0294 17.0278 15.6478 17.0278 15.25V4.75C17.0279 4.65148 17.0086 4.55391 16.9709 4.46286C16.9333 4.37182 16.8781 4.28908 16.8085 4.21938ZM12.5278 18.25H2.02783V4.75H9.21752L12.5278 8.06031V15.985C12.5278 15.9906 12.5278 15.9953 12.5278 16C12.5278 16.0047 12.5278 16.0094 12.5278 16.015V18.25ZM15.5278 15.25H14.0278V7.75C14.0279 7.65148 14.0086 7.55391 13.9709 7.46286C13.9333 7.37182 13.8781 7.28908 13.8085 7.21937L10.0585 3.46938C9.98875 3.39975 9.90602 3.34454 9.81497 3.3069C9.72392 3.26926 9.62635 3.24992 9.52783 3.25H5.02783V1.75H12.2175L15.5278 5.06031V15.25ZM10.2778 12.25C10.2778 12.4489 10.1988 12.6397 10.0582 12.7803C9.91751 12.921 9.72674 13 9.52783 13H5.02783C4.82892 13 4.63815 12.921 4.4975 12.7803C4.35685 12.6397 4.27783 12.4489 4.27783 12.25C4.27783 12.0511 4.35685 11.8603 4.4975 11.7197C4.63815 11.579 4.82892 11.5 5.02783 11.5H9.52783C9.72674 11.5 9.91751 11.579 10.0582 11.7197C10.1988 11.8603 10.2778 12.0511 10.2778 12.25ZM10.2778 15.25C10.2778 15.4489 10.1988 15.6397 10.0582 15.7803C9.91751 15.921 9.72674 16 9.52783 16H5.02783C4.82892 16 4.63815 15.921 4.4975 15.7803C4.35685 15.6397 4.27783 15.4489 4.27783 15.25C4.27783 15.0511 4.35685 14.8603 4.4975 14.7197C4.63815 14.579 4.82892 14.5 5.02783 14.5H9.52783C9.72674 14.5 9.91751 14.579 10.0582 14.7197C10.1988 14.8603 10.2778 15.0511 10.2778 15.25Z" />
							</svg>
						</span>
						Reports
					</a>
					<% } %>
				</li>
			</ul>
			<div class=" user-profile text-white flex justify-center items-center text-center">
				<% if (photo) { %>
				<img src="/<%= photo %>" alt="User Profile" class="user-profile-img" onclick="toggleDropdown()" />
				<% } else { %>
				<!-- Extract and display the initials -->
				<div class="user-profile-name bg-[<%= color %>]" onclick="toggleDropdown()">
					<% let initials = name.split(' ').map(n => n[0].toUpperCase()).join(''); %>
					<%= initials %>
				</div>
				<% } %>
				<div id="dropdownMenu" class="account-menu hidden">
					<a href="/settings/profile">Profile</a>
					<button onclick="logout()">Logout</button>
				</div>
			</div>
			
			
			<script>
				function toggleDropdown () {
					const dropdownMenu = document.getElementById('dropdownMenu');
					dropdownMenu.classList.toggle('hidden');
					
					const sidebar = document.querySelector('.sidebar');
					
					if (dropdownMenu.classList.contains('hidden')) {
						sidebar.style.overflow = 'auto';
					} else {
						sidebar.style.overflow = 'visible';
					}
				}
				
				async function logout () {
					try {
						const response = await fetch('/api/users/logout', {
							method: 'POST',
							credentials: 'same-origin'
						});
						
						if (response.ok) {
							window.location.href = '/login';
						} else {
							alert('Error logging out.');
						}
					} catch (err) {
						console.error('Error:', err);
						alert('Error logging out.');
					}
				}
				
				// Close the dropdown if clicked outside
				window.onclick = function (event) {
					const dropdown = document.getElementById("dropdownMenu");
					const sidebar = document.querySelector('.sidebar');
					if (!event.target.closest('.user-profile')) {
						dropdown.classList.add("hidden");
						sidebar.style.overflow = 'auto';
					}
				};
			</script>
		</nav>
		
		<div class="flex bg-slate-50 flex-grow w-full overflow-y-scroll">
			<div class="bg-white px-3 ml-1 py-3 min-w-[22rem] flex-shrink">
				<div class="title logo w-full">
					<h4 class="page-title font-bold text-xl text-center">
						Add template
					</h4>
				</div>
				
				<form class="space-y-1 mt-5">
					<div class="form-group  space-y-1">
						<label class="font-semibold">Template Name</label>
						<input type="text" placeholder="Give new template a name" class="form-control rounded border-1 text-sm" required />
					</div>
					
					<div class="form-group  space-y-1">
						<label class="font-semibold">Category</label>
						<div class="relative">
							<button id="categoryButton" aria-haspopup="true" aria-expanded="false" class="w-full text-sm bg-transparent border border-gray-300 rounded px-4 py-2 text-left cursor-pointer text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500" type="button">
								Choose category
							</button>
							<div id="categoryDropdown" class="hidden absolute bg-white border border-gray-200 rounded mt-2 py-2 shadow-lg w-full z-50">
								<div class="block cursor-pointer px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" onclick="selectCategory('Marketing')">Marketing</div>
								<div class="block px-4 cursor-pointer py-2 text-sm text-gray-700 hover:bg-gray-100" onclick="selectCategory('Utility')">Utility</div>
								<div class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100" onclick="selectCategory('Authentication')">Authentication</div>
							</div>
						</div>
					</div>
					<div class="relative mt-3 w-full">
						<label for="language" class="block font-semibold ">Select Language</label>
						
						<div class="relative mt-3">
							<!-- Trigger button for dropdown -->
							<button type="button" id="language-button" onclick="toggleDropdown()" class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-left text-gray-500">
								Select a language
							</button>
							
							<!-- Dropdown content -->
							<div id="dropdown-menu" class="hidden absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1">
								<!-- Search input inside the dropdown -->
								<input type="text" id="language-search" onkeyup="filterLanguages()" placeholder="Search languages..." class="block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
								
								<!-- Dropdown options (initially hidden) -->
								<ul id="language-options" class="max-h-48 overflow-y-auto">
									<% languagesCode.forEach(language => { %>
									<li class="hover:bg-indigo-300 hover:text-white px-4 py-2 cursor-pointer rounded" onclick="selectLanguage('<%= language.language %>', '<%= language.code %>')">
										<%= language.language %>
									</li>
									<% }); %>
								</ul>
							</div>
						</div>
					</div>
					
					<script>
						// Toggle the dropdown
						function toggleDropdown () {
							const dropdown = document.getElementById("dropdown-menu");
							dropdown.classList.toggle("hidden");
						}
						
						// Filter languages based on search input
						function filterLanguages () {
							const input = document.getElementById("language-search");
							const filter = input.value.toLowerCase();
							const ul = document.getElementById("language-options");
							const li = ul.getElementsByTagName("li");
							
							for (let i = 0; i < li.length; i++) {
								const txtValue = li[i].textContent || li[i].innerText;
								if (txtValue.toLowerCase().indexOf(filter) > -1) {
									li[i].style.display = "";
								} else {
									li[i].style.display = "none";
								}
							}
						}
						
						// Function to select a language and close the dropdown
						function selectLanguage (language, code) {
							const button = document.getElementById("language-button");
							button.textContent = language; // Update button text to selected language
							document.getElementById("dropdown-menu").classList.add("hidden"); // Close dropdown
							selectedLanguageCode = {
								language,
								code
							}; 
						}
					</script>
					<script>
						document.getElementById("categoryButton").textContent = '<%= templateData.category %>';
						
						function selectCategory (category) {
							const categoryButton = document.getElementById("categoryButton");
							// Change the button text to the selected category
							categoryButton.textContent = category;
							// Close the dropdown
							document.getElementById('categoryDropdown').classList.add('hidden');
						}
						
						document.getElementById('categoryButton').addEventListener('click', function () {
							const dropdown = document.getElementById('categoryDropdown');
							dropdown.classList.toggle('hidden');
							// Manage aria-expanded attribute for accessibility
							const isExpanded = dropdown.classList.contains('hidden') ? 'false' : 'true';
							this.setAttribute('aria-expanded', isExpanded);
						});
						
						// Close dropdown when clicking outside
						document.addEventListener('click', function (event) {
							const categoryButton = document.getElementById('categoryButton');
							const dropdown = document.getElementById('categoryDropdown');
							if (!categoryButton.contains(event.target) && !dropdown.contains(event.target)) {
								dropdown.classList.add('hidden');
								categoryButton.setAttribute('aria-expanded', 'false');
							}
						});
					</script>
				</form>
			</div>
			
			<div class=" mx-2 px-1 bg-white flex-grow min-w-[30rem]">
				<div class="p-2">
					<div class="d-flex w-full justify-content-between align-items-center logo">
						<div class="title ">
							<h4 class="page-title text-xl font-bold">
								Setup Template
							</h4>
						</div>
						<!-- Submit Button -->
						<div class="text-end">
							<button type="button" class="btn btn-primary py-2 text-sm" onclick="openModal()">
								Preview
							</button>
						</div>
					</div>
					
					<div class="setup-template">
						<!-- Header -->
						<div class="d-flex align-items-end justify-content-between">
							<div class="header-text w-full">
								<h6 class="font-semibold text-lg pb-2">
									Header
									<span class="text-secondary small text-sm">(optional)</span>
								</h6>
							</div>
							<div class="header-dropdown form-group">
								<select id="mediaTypeDropdown" class="cursor-pointer w-full rounded-md border border-gray-300 bg-white py-2 mt-4 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500">
									<option class="text-sm" value="none">
										None
									</option>
									<option class="text-sm" value="text">
										Text
									</option>
									<option class="text-sm" value="media">
										Media
									</option>
								</select>
							</div>
						</div>
					</div>
					
					<div id="noneInputContainer" class="text-sm form-group mt-1 text-secondary font-medium pb-2">
						Add a title or choose which type of media
						you&apos;ll use for this header.
					</div>
					<div id="headerInputContainer" class="hidden form-group mt-1">
						<label class="text-sm text-secondary font-semibold pb-2">Add a title text</label>
						<input type="text" class="form-control border-0" id="headerInput" placeholder="Enter header title" />
					</div>
					
					<div id="mediaInputContainer" class="hidden w-full h-10 mt-2">
						<!-- Media Type Selection -->
						
						<select id="mediaType" class="w-48 pl-2 cursor-pointer rounded-md border border-gray-300 bg-white py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 mr-5">
							<option value="image">Image</option>
							<option value="video">Video</option>
							<option value="document">Document</option>
							<option value="location">Location</option>
						</select>
						
						<!-- File Upload -->
						<label id="uploadLabel" for="file-upload" class="px-3 h-full cursor-pointer rounded-md border border-gray-300 text-gray-400 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:bg-gray-100 flex items-center justify-between">
							<span id="uploadText" class="h-fit w-full text-sm">Choose from .jpg or .png</span>
							<input id="file-upload" name="file-upload" type="file" class="sr-only" />
							<svg id="removeFile" xmlns="http://www.w3.org/2000/svg" class="hidden h-5 w-5 text-gray-500 cursor-pointer hover:text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
							</svg>
						</label>
					</div>
					
					<!-- Body -->
					<div class="form-group">
						<h6 class="font-semibold text-lg pb-2 pt-1 ">
							Body
						</h6>
						<label class="font-medium  pb-2 text-secondary text-sm form-group" style="font-family: 'Figtree', sans-serif;">Enter the text for your message in the language
							that you&apos;ve selected. Add {{1}}, {{2}}, {{3}	}
							(Curly Braceses and numbers) to add Dynamic
							values</label>
						<div class="border rounded shadow-sm relative z-0">
							<div class="px-2 h-fit d-flex align-items-center justify-content-between" role="toolbar">
								<div id="toolbar" class="relative flex ">
									<button class="py-1 px-2 rounded-lg" onclick="formatText('bold', this)">
										<i class="fa fa-bold text-sm"></i>
									</button>
									<button class="py-1 px-2 rounded-lg" onclick="formatText('italic', this)">
										<i class="fa fa-italic text-sm"></i>
									</button>
									<button class="py-1 px-2 rounded-lg" onclick="formatText('underline', this)">
										<i class="fa fa-underline text-sm"></i>
									</button>
									<button class="py-1 px-2 rounded-lg" onclick="formatText('strikethrough', this)">
										<i class="fa fa-strikethrough text-sm"></i>
									</button>
									<button class="text-sm py-1 px-2 rounded-lg" onclick="addBrackets()">									
										{{}}
							</button>
							
							<!-- Emoji button -->
							<button id="emojiBtn" onclick="openEmojis()" class="rounded text-sm py-1 px-2 ">
								ðŸ˜Š
							</button>
					</div>
					<div id="emojiContainer" class="hidden absolute top-full left-0 bg-white p-4 rounded shadow-lg w-[480px] h-52 overflow-y-auto z-50">
						<input id="emojiSearch" type="text" placeholder="Search for emojis..." class=" border shadow-md focus:shadow-lg rounded p-2 mb-3 w-full" />
						<div id="emojiList" class="grid grid-cols-6 gap-2"></div>
					</div>
					
					<div class="count mt-[-6px]">
						<small class="text-secondary text-sm" id="charCount">0/1024</small>
					</div>
				</div>
				<!-- <textarea id="bodyInput" class="w-full h-full px-2 text-sm" placeholder="Enter body here" contenteditable="true" maxlength="1024" cols="1"></textarea> -->
				
				<div id="bodyInput" class="focus:outline-none p-2 text-sm" contenteditable="true" maxlength="1024" style="min-height: 50px; height: auto"></div>
			</div>
		</div>
		
		<!-- Footer -->
		<div class="form-group mt-2">
			<h6 class="font-semibold text-lg pb-2">Footer</h6>
			<label class="font-medium text-secondary pb-2 text-sm">Add a short line of text to bottom of your
				message template, if you add the marketing
				opt-out button, the associated footer will be
				shown here by default.</label>
			<div class="border rounded shadow-sm d-flex align-items-center justify-content-between p-2">
				<textarea class="border-0 w-full text-sm bg-transparent focus:outline-none outline-none focus-within:outline-none" maxlength="64" rows="1" id="footerInput" placeholder="Enter footer text"></textarea>
				<div class="count">
					<small class="text-secondary footer-count float-end">0/64</small>
				</div>
			</div>
		</div>
		
		
		<!-- Buttons -->
		<div class="form-group mt-2 mb-32">
			<h6 class="font-semibold text-lg pb-2">
				Buttons
				<span class="text-secondary small text-sm">(optional)</span>
			</h6>
			<label class="font-medium text-secondary pb-2 text-sm">Create buttons that let customers respond to
				your message or take action.
			</label>
			<!-- Button Dropdown -->
			<div class="w-fit mt-4">
				<div class="relative w-full">
					<!-- Button to toggle dropdown -->
					<button id="addButtonDropdown" class="text-sm w-fit h-fit bg-transparent border border-gray-300 rounded px-4 py-2 cursor-pointer text-left text-black focus:outline-none" type="button">
						+ Add a button
					</button>
					
					<!-- Dropdown with options -->
					<div id="buttonDropdown" class="hidden absolute bg-white border border-gray-200 rounded mt-2 py-2 shadow-lg w-full z-50">
						<div class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" id="addWebsiteBtn">Visit Website</div>
						<div class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer" id="addCallBtn">Call Phone Number</div>
					</div>
				</div>
			</div>
			<div id="buttonOptions" class="space-y-3">
				<!-- Hidden Website Button Form -->
				<div id="websiteForm" class="border rounded shadow-sm action-card mt-3 draggable" style="display: none;" draggable="true">
					<div class="d-flex justify-evenly items-center">
						<div class="drag-handle">::</div>
						<div class="row w-100">
							<div class="col-4">
								<label>Button label</label>
								<input type="text" class="form-control" id="websiteBtnLabel" placeholder="Visit Now">
							</div>
							<div class="col-4">
								<label>Website URL</label>
								<input type="url" class="form-control w-full" id="websiteUrl" placeholder="example.com">
							</div>
						</div>
						<div class="col-1 close-icon">
							<span class="remove-btn" id="closeWebsite">&times;</span>
						</div>
					</div>
				</div>
				
				<!-- Hidden Call Button Form -->
				<div id="callForm" class="border rounded shadow-sm action-card mt-3 draggable" style="display: none;" draggable="true">
					<div class="d-flex justify-evenly items-center">
						<div class="drag-handle">::</div>
						<div class="row w-100">
							<div class="col-4">
								<label>Button label</label>
								<input type="text" class="form-control" id="callBtnLabel" placeholder="Call Now">
							</div>
							<div class="col-4">
								<label>Phone Number</label>
								<input type="tel" class="form-control w-full" id="phoneNumber" placeholder="9999999999">
							</div>
						</div>
						<div class="col-1 close-icon">
							<span class="remove-btn" id="closeCall">&times;</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<div class="px-1 bg-white min-w-[25rem] max-w-[35rem]">
		<div class="p-3">
			<div class="title logo w-full">
				<h4 class="page-title text-xl font-bold text-center">
					Template Preview
				</h4>
			</div>
			<!-- Preview Section -->
			<div class="bg-orange-50 py-3 px-2 mt-3" id="previewContainer">
				<div id="previewHeader" class=""></div>
				<p id="previewBody" class="text-base"></p>
				<div id="previewFooter"></div>
				<div class="py-2" id="previewButtons"></div>
			</div>
		</div>
	</div>
	</div>
	<%- include("partials/template-preview-modal") %>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	</div>
	<script src=" assets/plugins/pace/pace.min.js" type="text/javascript"></script>
	<script src="assets/plugins/liga.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-3.2.1.min.js" type="text/javascript"></script>
	<script src="assets/plugins/modernizr.custom.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
	<script src="assets/plugins/popper/umd/popper.min.js" type="text/javascript"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-easy.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-unveil/jquery.unveil.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-ios-list/jquery.ioslist.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-actual/jquery.actual.min.js"></script>
	<script src="assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js"></script>
	<script type="text/javascript" src="assets/plugins/select2/js/select2.full.min.js"></script>
	<script type="text/javascript" src="assets/plugins/classie/classie.js"></script>
	<script src="pages/js/pages.js" type="text/javascript"></script>
	<script src="assets/js/scripts.js" type="text/javascript"></script>
	
	<script src="/template/js/submit-template.js"></script>
	<script src="/template/js/fetchEmoji.js"></script>
	
	<script src="/template/js/fetch-preview.js"></script>
	<script src="/template/js/create-template.js"></script>
	
	<script>
		const data = <%- JSON.stringify(templateData) %>;
		// console.log(JSON.stringify(data));
	</script>
	<script src="/template/js/duplicateTemplate.js"></script>
	<script>
		window.addEventListener('load', function () {
			// Fade out the loader smoothly by changing the opacity
			var loader = document.getElementById('loader');
			loader.style.transition = 'opacity 0.3s ease'; // Smooth fade out
			loader.style.opacity = '0';
			
			// Completely remove the loader after the fade-out effect is finished
			setTimeout(function () {
				loader.style.display = 'none'; // Ensure loader is no longer in the DOM flow
			}, 300); // Match the duration of the fade-out (0.5 seconds in this case)
		});
	</script>
</body>

</html>