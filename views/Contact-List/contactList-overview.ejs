<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Contact List Overview</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
	<link href="assets/plugins/pace/pace-theme-flash.css" rel="stylesheet" type="text/css" />
	<link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="assets/plugins/jquery-scrollbar/jquery.scrollbar.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="assets/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" media="screen" />
	<!-- <link class="main-stylesheet" href="pages/css/themes/corporate.css" rel="stylesheet" type="text/css" /> -->
	<!-- Please remove the file below for production: Contains demo classes -->
	<!-- <link class="main-stylesheet" href="assets/css/style.css" rel="stylesheet" type="text/css" /> -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
	<link href="styles/filter-sidebar.css" rel="stylesheet" type="text/css" />
	<link href="styles/style.css" rel="stylesheet" type="text/css" />
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.5/xlsx.full.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
	<!-- <link href="styles/createList.css" rel="stylesheet" type="text/css" /> -->
	<style>
		/* Remove outline for all elements on focus */
		
		/* Additional styling for specific focus states (optional) */
	</style>
</head>

<body>
	<!-- Sidebar -->
	<div class="layout-container">
		<nav class="sidebar">
			<div class="logo py-3">
				<img src="/assets/img/Wizard_logo.png" alt="Whizard Logo" />
			</div>
			<ul class="mt-5 space-y-4">
				<li>
					<a href="/" class=""><span class="icon "><i class="fas fa-chart-line"></i></span>
						Dashboard</a>
				</li>
				<li>
					<a href="/chats"><span class="icon"><i class="fa-regular fa-comment"></i></span>
						Chats</a>
				</li>
				<li>
					<a href="/contact-list"><span class="icon active"><i class="fa-regular fa-address-book"></i></span>
						
						Contact List</a>
				</li>
				<li>
					<a href="/template"><span class="icon"><i class="fa-regular fa-envelope"></i></span>
						Template</a>
				</li>
				<li>
					<a href="/settings"><span class="icon"><i class="fa-regular fa-user"></i></span>
						Settings</a>
				</li>
				<li>
					<a href="/reports/campaign-list"><span class="icon"><i class="fa-regular fa-chart-bar"></i></span>
						Reports</a>
				</li>
			</ul>
			<div class="user-profile " onclick="toggleDropdown()">
				<img src="https://via.placeholder.com/50" alt="User Profile" />
				<div id="dropdownMenu" class="dropdown-menu hidden">
					<a href="/settings/profile">Profile</a>
					<button onclick="logout()">Logout</button>
				</div>
			</div>
			
			
			<script>
				function toggleDropdown () {
					const dropdown = document.getElementById("dropdownMenu");
					dropdown.classList.toggle("hidden");
				}
				
				async function logout () {
					try {
						const response = await fetch('/api/users/logout', {
							method: 'POST',
							credentials: 'same-origin'
						});
						
						if (response.ok) {
							window.location.href = '/login';
						} else {
							alert('Error logging out.');
						}
					} catch (err) {
						console.error('Error:', err);
						alert('Error logging out.');
					}
				}
				
				// Close the dropdown if clicked outside
				window.onclick = function (event) {
					const dropdown = document.getElementById("dropdownMenu");
					if (!event.target.closest('.user-profile')) {
						dropdown.classList.add("hidden");
					}
				};
			</script>
		</nav>
		<!-- END SIDEBAR MENU TOP TRAY CONTENT-->
		
		<!-- START PAGE-CONTAINER -->
		<div class="main-content">
			<!-- END HEADER -->
			<div class="logo flex justify-between items-center px-3">
				<div class=" mt-[30px] flex items-center">
					<!-- START BREADCRUMB -->
					
					<div class="flex items-center">
						<a href="/" class="text-gray-500 hover:text-gray-700 hover:no-underline text-xl font-medium">Dashboard</a>
						<svg class="w-4 h-4 mx-2 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L11.586 10 7.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
						</svg>
					</div>
					<div class="flex items-center">
						<a href="/contact-list" class="text-gray-500 hover:no-underline hover:text-gray-700 text-xl font-medium">Contact List</a>
						<svg class="w-4 h-4 mx-2 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L11.586 10 7.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
						</svg>
					</div>
					<a href="#" class="text-red-600 hover:no-underline hover:text-gray-700 text-xl font-medium">Overview</a>
					
					<!-- END BREADCRUMB -->
				</div>
			</div>
			
			<!-- START card -->
			<div class="pt-4">
				<div class="flex w-full justify-between items-center px-3">
					<div class="flex w-fit items-center">
						<span class=" text-lg w-[250px] ">Contact List Name</span>
						<input type="text" id="contactListName" placeholder="Edit Contact List name" class="outline-none focus:outline-none w-full border py-1 px-2 rounded-lg" value="<%= name %>" />
					</div>
					
					<div class="flex items-center justify-evenly">
						<div class="text-center pr-3">
							<button aria-label="" id="saveChangesBtn" type="button" class="border py-2 px-2 rounded-lg transition-colors ease-in-out duration-300 hover:bg-gray-100 text-base font-medium opacity-50 cursor-not-allowed" disabled>
								Save Changes
							</button>
						</div>
						<div class="text-center pr-3">
							<button aria-label="Add-Contact" onclick="openAddContact()" type="button" class="border py-2 px-4 rounded-lg transition-colors ease-in-out duration-300 hover:bg-gray-100 text-sm font-semibold flex items-center">
								<span class="icon pr-2">
									<i class="fa-solid fa-user-plus"></i>
								</span>
								Add Contact
							</button>
						</div>
						<%- include("partials/addContact") %>
						<!-- Filters Button -->
						<div class="text-center pr-3">
							<button aria-label="Filters" onclick="openFilterModal()" type="button" class="border py-2 px-4 rounded-lg transition-colors ease-in-out duration-300 hover:bg-gray-100 text-sm font-semibold flex items-center">
								<span class="icon pr-1">
									<i class="fa-solid fa-filter"></i>
								</span>
								Filters
							</button>
						</div>
						<%- include("partials/filters") %>
						
						<button aria-label="Create new Contact list" type="button" id="create-List" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" onclick="location.href='/contact-list/createCampaign'">
							<span>Send message</span>
						</button>
					</div>
					<!-- Pop-Up Modal to create List -->
				</div>
				
				<!-- Contact list table -->
				<div class="flex w-full justify-center items-center ">
					<div class="w-[95%]"><%- include('partials/OverViewTable') %></div>
				</div>
			</div>
			
			<!-- Pop-Up Modal to Edit List -->
			<%- include('partials/editContact') %>
			
			
			
		</div>
	</div>
	<!-- END PAGE CONTAINER -->
	
	<!-- BEGIN VENDOR JS -->
	<script src="assets/plugins/pace/pace.min.js" type="text/javascript"></script>
	<!--  A polyfill for browsers that don't support ligatures: remove liga.js if not needed-->
	<script src="assets/plugins/liga.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-3.2.1.min.js" type="text/javascript"></script>
	<script src="assets/plugins/modernizr.custom.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
	<script src="assets/plugins/popper/umd/popper.min.js" type="text/javascript"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery/jquery-easy.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-unveil/jquery.unveil.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-ios-list/jquery.ioslist.min.js" type="text/javascript"></script>
	<script src="assets/plugins/jquery-actual/jquery.actual.min.js"></script>
	<script src="assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js"></script>
	
	<!-- END VENDOR JS -->
	<!-- BEGIN CORE TEMPLATE JS -->
	<!-- BEGIN CORE TEMPLATE JS -->
	<script src="pages/js/pages.js"></script>
	<!-- END CORE TEMPLATE JS -->
	<!-- BEGIN PAGE LEVEL JS -->
	<script src="assets/js/scripts.js" type="text/javascript"></script>
	<!-- END PAGE LEVEL JS -->
	<!-- END CORE TEMPLATE JS -->
	<!-- BEGIN PAGE LEVEL JS -->
	<script src="assets/js/card.js" type="text/javascript"></script>
	<script src="assets/js/scripts.js" type="text/javascript"></script>
	<!-- <script src="https://kit.fontawesome.com/44e4e59292.js" crossorigin="anonymous"></script> -->
	<!-- Bootstrap 4/5 CSS -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
	
	<!-- Bootstrap 4/5 JS and Popper.js -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	
	
	<!-- END PAGE LEVEL JS -->
</body>

</html>