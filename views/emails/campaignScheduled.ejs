<html>

<head>
	<title>Campaign Scheduled</title>
</head>

<body style="background-color: #f4f7fc; font-family: Arial, sans-serif; padding: 20px;">
	<div style="max-width: 600px; margin: auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
		<!-- Header with logo -->
		<div style="text-align: center; padding: 20px 0;">
			<img src="cid:whizz_logo" alt="Whizz Logo" style="max-width: 150px;" />
		</div>
		
		<!-- Main Content -->
		<div style="padding: 20px; text-align: center;">
			<h2 style="color: #333; margin-bottom: 20px;">Campaign Scheduled Successfully</h2>
			<p style="color: #666; font-size: 16px; margin-bottom: 25px;">
				Your campaign "<strong><%= campaignName %></strong>" has been successfully scheduled.
			</p>
			
			<div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
				<p style="margin: 0; color: #333;">
					Scheduled Time:<br>
					<strong class="scheduled-time" data-iso="<%= new Date(scheduledTime).toISOString() %>" data-country-code="<%= countryCode %>" style="font-size: 18px; color: #4a90e2;">
					</strong>
				</p>
			</div>
			
			<p style="color: #666; font-size: 14px;">
				You'll receive another email of campaign report within 15 minutes after the scheduled send time.
			</p>
		</div>
		
		<!-- Footer -->
		<div style="background-color: #f8f9fa; padding: 20px; text-align: center; border-top: 1px solid #eee;">
			<p style="margin: 0; color: #999; font-size: 12px;">
				This is an automated notification from Whizard. Please do not reply to this email.
			</p>
		</div>
	</div>
	<!-- 1) Load countries-and-timezones via CDN -->
	<script src="https://cdn.jsdelivr.net/gh/manuelmhtr/countries-and-timezones@latest/dist/index.min.js"></script>
	
	<script>
		// 2) Once loaded, format every .scheduled-time element
		document.querySelectorAll('.scheduled-time').forEach(el => {
			const iso = el.dataset.iso;
			const code = el.dataset.countryCode; // e.g. "IN", "US", "BR"
			if (!iso || !code) return;
			
			// Lookup that countryâ€™s primary IANA zone
			const info = ct.getCountry(code);
			const tz = (info && info.timezones && info.timezones[0]) ||
				Intl.DateTimeFormat().resolvedOptions().timeZone;
			
			// Format in en-GB + local zone
			const d = new Date(iso);
			el.textContent = d.toLocaleDateString('en-GB', {
				day: '2-digit',
				month: 'short',
				year: 'numeric',
				hour: '2-digit',
				minute: '2-digit',
				hour12: true,
				timeZone: tz
			}).replace(',', ' at ');
		});
	</script>
	
</body>

</html>